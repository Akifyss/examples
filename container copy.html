<div id="container" class="container" style="left:400px; top: 200px">
    <!-- Dropdown Menu Body -->
    <select id="districtSelect"
        class="block w-full mt-1 bg-white border border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
        style="width: 100%; height: 100%;">
        <option value="yuexiu">越秀区</option>
        <option value="liwan">荔湾区</option>
        <option value="haizhu">海珠区</option>
        <option value="tianhe">天河区</option>
        <option value="baiyun">白云区</option>
        <option value="huangpu">黄埔区</option>
        <option value="panyu">番禺区</option>
        <option value="huadu">花都区</option>
        <option value="nansha">南沙区</option>
        <option value="conghua">从化区</option>
        <option value="zengcheng">增城区</option>
    </select>

</div>

<style>
    .container {
        border: 1px solid #3786f4;
        margin-top: 10px;
        position: absolute;
        text-align: center;
        vertical-align: middle;
        font-family: Arial, Helvetica, sans-serif;
        color: black;
        font-weight: bold;
    }
</style>

<script>let MARGIN = 5;
    let allowInteraction = false;

    var container = document.getElementById('container');

    container.addEventListener("dblclick", function (event) {
        if (event.target.id === 'container') {
            allowInteraction = true;
        }
    });

    container.addEventListener("mousedown", function (event) {
        if (event.target.id === 'container' && allowInteraction) {
            onMouseDown(event);
        }
    });
    container.addEventListener("mousemove", function (event) {
        if (event.target.id === 'container' && allowInteraction) {
            onMouseMove(event);
        }
    });

    function onMouseDown(event) {
        var container = event.target;
        var b = container.getBoundingClientRect();
        var x = event.clientX - b.left;
        var y = event.clientY - b.top;
        let initialClientX = event.clientX;
        let initialClientY = event.clientY;
        var onTopEdge = y < MARGIN;
        var onLeftEdge = x < MARGIN;
        var onRightEdge = x >= b.width - MARGIN;
        var onBottomEdge = y >= b.height - MARGIN;
        var isResizing = onRightEdge || onLeftEdge || onTopEdge || onBottomEdge;

        if (isResizing && allowInteraction) {
            function onMouseMoveResize(event) {
                if (onRightEdge) {
                    container.style.width = (event.clientX - b.left) + 'px';
                }
                if (onBottomEdge) {
                    container.style.height = (event.clientY - b.top) + 'px';
                }
                if (onLeftEdge) {
                    container.style.left = event.clientX + 'px';
                    container.style.width = (initialClientX - event.clientX + b.width) + 'px';
                }
                if (onTopEdge) {
                    container.style.top = event.clientY + 'px';
                    container.style.height = (initialClientY - event.clientY + b.height) + 'px';
                }
            }

            function onMouseUpResize() {
                document.removeEventListener('mousemove', onMouseMoveResize);
                document.removeEventListener('mouseup', onMouseUpResize);
                allowInteraction = false; // Reset interaction flag after resizing
            }

            document.addEventListener('mousemove', onMouseMoveResize);
            document.addEventListener('mouseup', onMouseUpResize);
        }
    }

    function onMouseMove(event) {
        var container = event.target;
        var b = container.getBoundingClientRect();
        var x = event.clientX - b.left;
        var y = event.clientY - b.top;
        var onTopEdge = y < MARGIN;
        var onLeftEdge = x < MARGIN;
        var onRightEdge = x >= b.width - MARGIN;
        var onBottomEdge = y >= b.height - MARGIN;

        if (allowInteraction) {
            if (onRightEdge && onBottomEdge || onLeftEdge && onTopEdge) {
                container.style.cursor = 'nwse-resize';
            } else if (onRightEdge && onTopEdge || onBottomEdge && onLeftEdge) {
                container.style.cursor = 'nesw-resize';
            } else if (onRightEdge || onLeftEdge) {
                container.style.cursor = 'ew-resize';
            } else if (onBottomEdge || onTopEdge) {
                container.style.cursor = 'ns-resize';
            } else {
                container.style.cursor = 'move';
            }
        } else {
            container.style.cursor = 'default';
        }
    }
</script>
